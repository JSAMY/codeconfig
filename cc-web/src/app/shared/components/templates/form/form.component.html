<form   [formGroup]="fg">
      <div *ngFor="let control of controls;">

          <div [ngSwitch]="control.controlType">

                  <mat-form-field *ngSwitchCase="controlType.Input">
                      <input matInput id="{{control.name}}" name="{{control.name}}"
                      [formControlName]="control.name"
                      placeholder="{{control.placeHolder}}"
                      value="{{getInputValue(control)}}"
                      [attr.maxLength] = "getMaxLength(control)"
                      [attr.minLength] = "getMinLength(control)"
                      >

                      <mat-error *ngIf="fg.controls[control.name].hasError('required')">
                          {{control.errorMessage}}
                      </mat-error>
                      <mat-error *ngIf="fg.controls[control.name].hasError()">
                          SOMTHING ELSE
                      </mat-error>
                    </mat-form-field>


                    <mat-form-field *ngSwitchCase="controlType.Select">
                        <mat-label>{{control.placeHolder }} </mat-label>
                        <mat-select    [formControlName]="control.name">
                          <mat-option *ngFor="let opt of getSelectOptions(control)" [value]="opt.value">
                            {{opt.text}}
                          </mat-option>
                        </mat-select>
                    </mat-form-field>

          </div>
   </div>
  </form>

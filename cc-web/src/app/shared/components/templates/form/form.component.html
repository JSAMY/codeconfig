<form   [formGroup]="fg">
      <div *ngFor="let control of controls; let i=index;">

          <div [ngSwitch]="control.controlType">

                  <!-- Input Control section  -->
                  <mat-form-field *ngSwitchCase="controlType.Input">
                      <input matInput
                      id="{{control.name}}"
                      [formControlName]="control.name"
                      placeholder="{{control.placeHolder}}"
                      value="{{getInputValue(control)}}"
                      [attr.maxLength] = "getMaxLength(control)"
                      [attr.minLength] = "getMinLength(control)"
                      >
                      <mat-error *ngIf="fg.controls[control.name].hasError('required')">
                          {{control.errorMessage}}
                      </mat-error>
                    </mat-form-field>


                    <!-- select control section  -->
                    <mat-form-field *ngSwitchCase="controlType.Select">
                        <mat-label>{{control.placeHolder }} </mat-label>
                        <mat-select id="{{control.name}}"
                        [formControlName]="control.name"
                        multiple  = "{{isMultiSelect(control)}}" >
                          <mat-option *ngFor="let opt of getSelectOptions(control)" [value]="opt.value">
                            {{opt.text}}
                          </mat-option>
                        </mat-select>
                    </mat-form-field>


                    <section  *ngSwitchCase="controlType.CheckBox" >
                      <label> {{getTitle(control)}} </label>
                      <p *ngFor="let opt of getSelectOptions(control)" [formArrayName]="control.name">
                          <mat-checkbox  [checked]="opt.selected"  [value]="opt.value">{{opt.text}}</mat-checkbox>
                      </p>
                    </section>
          </div>
   </div>
  </form>
